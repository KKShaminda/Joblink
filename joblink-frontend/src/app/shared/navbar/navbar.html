<nav class="navbar">
  <div class="logo">
    <span class="logo-icon">💼</span>
    <a routerLink="/">JobLink</a>
  </div>

  <div class="nav-content">
    <ul class="nav-links" [class.mobile-open]="mobileMenuOpen">
      <li>
        <a routerLink="/" 
           routerLinkActive="active" 
           [routerLinkActiveOptions]="{ exact: true }"
           (click)="closeMobileMenu()">
          Home
        </a>
      </li>
      <li>
        <a routerLink="/jobs" 
           routerLinkActive="active"
           (click)="closeMobileMenu()">
          Find Jobs
        </a>
      </li>
      <li>
        <a *ngIf="isLoggedIn" routerLink="/dashboard" 
           routerLinkActive="active"
           (click)="closeMobileMenu()">
          Dashboard
        </a>
      </li>
      <li>
        <a *ngIf="showPostJob" routerLink="/job-post" 
           routerLinkActive="active"
           (click)="closeMobileMenu()">
          Post Job
        </a>
      </li>
    </ul>

    <div class="nav-actions">
      <!-- Guest actions -->
      <ng-container *ngIf="!isLoggedIn">
        <a routerLink="/login" class="btn-outline">Sign In</a>
        <a routerLink="/register" class="btn-primary">Get Started</a>
      </ng-container>

      <!-- Logged in user -->
      <ng-container *ngIf="isLoggedIn">
        <div class="user-menu">
          <div class="user-avatar" (click)="toggleUserMenu()">
            {{ getUserInitials() }}
          </div>
          <div class="user-dropdown" [class.show]="userMenuOpen">
            <div class="user-info">
              <div class="user-name">{{ currentUser?.fullName }}</div>
              <div class="user-email">{{ currentUser?.email }}</div>
            </div>
            <div class="dropdown-divider"></div>
            <a routerLink="/dashboard" class="dropdown-item" (click)="userMenuOpen = false">
              <i class="icon">📊</i>
              Dashboard
            </a>
            <a routerLink="/settings" class="dropdown-item" (click)="userMenuOpen = false">
              <i class="icon">⚙️</i>
              Settings  
            </a>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item logout-btn" (click)="logout()">
              <i class="icon">🚪</i>
              Sign Out
            </button>
          </div>
        </div>
      </ng-container>
    </div>

    <!-- Mobile menu toggle -->
    <button class="mobile-menu-toggle" 
            [class.active]="mobileMenuOpen"
            (click)="toggleMobileMenu()">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
    </button>
  </div>
</nav>
